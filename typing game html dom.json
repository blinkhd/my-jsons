{"uuid":"e98df6df-afb4-4396-8d75-7faa2b353840","name":"typing game html dom","description":"","created":"2024-05-23T16:15:02.490Z","updated":"2024-05-29T02:00:15.728Z","data":{"html":"","css":"","javascript":"let style = document.createElement('style');\ndocument.body.appendChild(style);\ndocument.body.style.backgroundColor='#fe9801'\ndocument.body.style.color='black'\ndocument.body.style.textAlign='center'\n\nlet cntnr = document.body.appendChild(document.createElement('div'));\ncntnr.id = \"container\"\ncntnr.style.display='flex'\ncntnr.style.flexDirection='column'\ncntnr.style.alignItems='center'\n\n  let heading = cntnr.appendChild(document.createElement('div'));\n  heading.id = \"heading\"\n  heading.innerText = \"Simple Speed Typing\";\n  heading.style.marginBottom='20px'\n  heading.style.fontSize='3rem'\n  heading.style.color='black'\n  \n    let header = cntnr.appendChild(document.createElement('div'));\n    header.id = \"header\"\n    header.style.display='flex'\n    header.style.alignItems='center'\n    \n      let wpm = header.appendChild(document.createElement('div'));\n      wpm.id = \"wpm\"\n      wpm.style.backgroundColor='#ccda46'\n      wpm.style.height='60px'\n      wpm.style.width='70px'\n      wpm.style.margin='8px'\n      wpm.style.padding='12px'\n      wpm.style.borderRadius='20%'\n      wpm.style.boxShadow='black 5px 8px 5px'\n      wpm.style.display='none'\n      \n        let header_text = wpm.appendChild(document.createElement('div'));\n        header_text.className = \"header_text\"\n        header_text.innerText = \"WPM\";\n\n        let curr_wpm = wpm.appendChild(document.createElement('div'));\n        curr_wpm.id = \"curr_wpm\";\n        curr_wpm.innerText = \"100\";\n        curr_wpm.style.fontSize='2.75rem'\n        \n\n      let cpm = header.appendChild(document.createElement('div'));\n      cpm.id = \"cpm\";\n      cpm.style.backgroundColor='#ccda46'\n      cpm.style.height='60px'\n      cpm.style.width='70px'\n      cpm.style.margin='8px'\n      cpm.style.padding='12px'\n      cpm.style.borderRadius='20%'\n      cpm.style.boxShadow='black 5px 8px 5px'\n      cpm.style.display='none'\n\n        let header_text5 = cpm.appendChild(document.createElement('div'));\n        header_text5.className = \"header_text\";\n        header_text5.innerText = \"CPM\";\n\n        let curr_cpm = cpm.appendChild(document.createElement('div'));\n        curr_cpm.id = \"curr_cpm\";\n        curr_cpm.innerText = \"100\";\n        curr_cpm.style.fontSize='2.75rem'\n\n      let errors = header.appendChild(document.createElement('div'));\n      errors.id = \"errors\";\n      errors.style.backgroundColor='#ccda46'\n      errors.style.height='60px'\n      errors.style.width='70px'\n      errors.style.margin='8px'\n      errors.style.padding='12px'\n      errors.style.borderRadius='20%'\n      errors.style.boxShadow='black 5px 8px 5px'\n      \n        let header_text2 = errors.appendChild(document.createElement('div'));\n        header_text2.className = \"header_text\";\n        header_text2.innerText = \"Errors\";\n\n        let curr_errors = errors.appendChild(document.createElement('div'));\n        curr_errors.id = \"curr_errors\";\n        curr_errors.innerText = \"0\";\n        curr_errors.style.fontSize='2.75rem'\n\n      let timer = header.appendChild(document.createElement('div'));\n      timer.id = \"timer\";\n      timer.style.backgroundColor='#ccda46'\n      timer.style.height='60px'\n      timer.style.width='70px'\n      timer.style.margin='8px'\n      timer.style.padding='12px'\n      timer.style.borderRadius='20%'\n      timer.style.boxShadow='black 5px 8px 5px'\n\n        let header_text3 = timer.appendChild(document.createElement('div'));\n        header_text3.className = \"header_text\";\n        header_text3.innerText = \"Time\";\n\n        let curr_time = timer.appendChild(document.createElement('div'));\n        curr_time.id = \"curr_time\";\n        curr_time.innerText = \"60s\";\n        curr_time.style.fontSize='2.75rem'\n\n      let accuracy = header.appendChild(document.createElement('div'));\n      accuracy.id = \"accuracy\";\n      accuracy.style.backgroundColor='#ccda46'\n      accuracy.style.height='60px'\n      accuracy.style.width='70px'\n      accuracy.style.margin='8px'\n      accuracy.style.padding='12px'\n      accuracy.style.borderRadius='20%'\n      accuracy.style.boxShadow='black 5px 8px 5px'\n      \n        let header_text4 = accuracy.appendChild(document.createElement('div'));\n        header_text4.className = \"header_text\"\n        header_text4.innerText = \"% Accuracy\"\n\n        let curr_accuracy = accuracy.appendChild(document.createElement('div'));\n        curr_accuracy.id = \"curr_accuracy\"\n        curr_accuracy.innerText = \"100\";\n        curr_accuracy.style.fontSize='2.75rem'\n  \n  let quote = cntnr.appendChild(document.createElement('div'));\n  quote.id = \"quote\";\n  quote.innerText = \"Click on the area below to start the game.\"\n  quote.style.backgroundColor='#ccda46'\n  quote.style.fontSize='1.5rem'\n  quote.style.margin='10px'\n  quote.style.padding='25px'\n  quote.style.boxShadow='black 5px 8px 5px'\n  \n  let input_area = cntnr.appendChild(document.createElement('textarea'));\n  input_area.id = \"input_area\";\n  input_area.placeholder = \"start typing here...\";\n  input_area.oninput=function() {processCurrentText()};\n  input_area.onfocus=function() {startGame()};\n  input_area.style.backgroundColor='#f5f5c6'\n  input_area.style.height='80px'\n  input_area.style.width='40%'\n  input_area.style.fontSize='1.5rem'\n  input_area.style.fontWeight='600'\n  input_area.style.margin='15px'\n  input_area.style.padding='20px'\n  input_area.style.border='0px'\n  input_area.style.boxShadow='black 5px 8px 5px'\n  \n  let restart_btn = cntnr.appendChild(document.createElement('button'));\n  restart_btn.id = \"restart_btn\";\n  restart_btn.innerText = \"Restart\"\n  restart_btn.onclick = function() {resetValues()};\n  restart_btn.style.display='none'\n  restart_btn.style.backgroundColor='#326765'\n  restart_btn.style.fontSize='1.5rem'\n  restart_btn.style.padding='10px'\n  restart_btn.style.border='0px'\n  restart_btn.style.boxShadow='black 5px 8px 5px'\n\n  const headers = document.querySelectorAll(\".header_text\");\n  for (let i = 0; i < headers.length; i++) {\n    headers[i].style.textTransform='uppercase'\n    headers[i].style.fontSize='0.6rem'\n    headers[i].style.fontWeight='600'\n  }\n\n//JS\nlet TIME_LIMIT = 60;\n\nlet quotes_array = [\n  \"Push yourself, because no one else is going to do it for you.\",\n  \"Failure is the condiment that gives success its flavor.\",\n  \"Wake up with determination. Go to bed with satisfaction.\",\n  \"It's going to be hard, but hard does not mean impossible.\",\n  \"Learning never exhausts the mind.\",\n  \"The only way to do great work is to love what you do.\"\n];\n\nlet timeLeft = TIME_LIMIT;\nlet timeElapsed = 0;\nlet total_errors = 0;\nlet errorsV = 0;\nlet accuracyV = 0;\nlet characterTyped = 0;\nlet current_quote = \"\";\nlet quoteNo = 0;\nlet timerV = null;\n\nfunction updateQuote() {\n  quote.textContent = null;\n  current_quote = quotes_array[quoteNo];\n\n  current_quote.split('').forEach(char => {\n    const charSpan = document.createElement('span')\n    charSpan.innerText = char\n    quote.appendChild(charSpan)\n  })\n\n  if (quoteNo < quotes_array.length - 1)\n    quoteNo++;\n  else\n    quoteNo = 0;\n}\n\nfunction processCurrentText() {\n\n  curr_input = input_area.value;\n  curr_input_array = curr_input.split('');\n\n  characterTyped++;\n\n  errorsV = 0;\n\n  quoteSpanArray = quote.querySelectorAll('span');\n  quoteSpanArray.forEach((char, index) => {\n    let typedChar = curr_input_array[index]\n\n    if (typedChar == null) {\n      char.classList.remove('correct_char');\n      char.classList.remove('incorrect_char');\n      char.style.color='black'\n      char.style.textDecoration=''\n\n    } else if (typedChar === char.innerText) {\n      char.classList.add('correct_char');\n      char.classList.remove('incorrect_char');\n      char.style.color='darkgreen'\n      char.style.textDecoration=''\n\n    } else {\n      char.classList.add('incorrect_char');\n      char.classList.remove('correct_char');\n      char.style.color='red'\n      char.style.textDecoration='underline'\n\n      errorsV++;\n    }\n  });\n\n  curr_errors.textContent = total_errors + errorsV;\n\n  let correctCharacters = (characterTyped - (total_errors + errorsV));\n  let accuracyVal = ((correctCharacters / characterTyped) * 100);\n  curr_accuracy.textContent = Math.round(accuracyVal);\n\n  if (curr_input.length == current_quote.length) {\n    updateQuote();\n\n    total_errors += errorsV;\n\n    input_area.value = \"\";\n  }\n\n}\n\nfunction updateTimer() {\n  if (timeLeft > 0) {\n    \n    timeLeft--;\n\n    timeElapsed++;\n\n    curr_time.textContent = timeLeft + \"s\";\n  }\n  else {\n    \n    finishGame();\n  }\n}\n\nfunction finishGame() {\n  \n  clearInterval(timerV);\n\n  input_area.disabled = true;\n\n  quote.textContent = \"Click on restart to start a new game.\";\n\n  restart_btn.style.display = \"block\";\n\n  cpm = Math.round(((characterTyped / timeElapsed) * 60));\n  wpm = Math.round((((characterTyped / 5) / timeElapsed) * 60));\n\n  curr_cpm.textContent = cpm;\n  curr_wpm.textContent = wpm;\n\n  cpm.style.display = \"block\";\n  wpm.style.display = \"block\";\n}\n\nfunction startGame() {\n\n  resetValues();\n  updateQuote();\n\n  clearInterval(timerV);\n  timerV = setInterval(updateTimer, 1000);\n}\n\nfunction resetValues() {\n  timeLeft = TIME_LIMIT;\n  timeElapsed = 0;\n  errorsV = 0;\n  total_errors = 0;\n  accuracyV = 0;\n  characterTyped = 0; \n  quoteNo = 0;\n  input_area.disabled = false;\n\n  input_area.value = \"\";\n  quote.textContent = 'Click on the area below to start the game.';\n  curr_accuracy.textContent = 100;\n  curr_time.textContent = timeLeft + 's';\n  curr_errors.textContent = 0;\n  restart_btn.style.display = \"none\";\n  cpm.style.display = \"none\";\n  wpm.style.display = \"none\";\n}\n"}}